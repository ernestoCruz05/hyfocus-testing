#!/bin/bash
# Show a quick flash warning that auto-closes

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
EWW_DIR="$(dirname "$SCRIPT_DIR")"
EWW_CMD="eww -c $EWW_DIR"
MESSAGE="${1:-Stay focused}"
DURATION="${2:-1200}"  # Duration in ms, default 1.2 seconds

# Set message and open
$EWW_CMD update flash-message="$MESSAGE"
$EWW_CMD open hyfocus-flash

# Auto-close after duration
(sleep $(echo "scale=3; $DURATION/1000" | bc) && $EWW_CMD close hyfocus-flash) &
